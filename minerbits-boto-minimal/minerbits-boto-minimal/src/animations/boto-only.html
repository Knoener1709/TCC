<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="./boto.css">
  <title>Boto Preview</title>
</head>
<body>
  <div class="boto-wrap boto-scale-x2 boto-hires">
      <div class="boto-pixels" aria-hidden="true">
        <!-- sharper 16x16 pixel dolphin-like boto (single eye, single cheek dot, defined silhouette) -->
        <!-- row 1 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 2 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 3 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 4 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 5 -->
        <span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 6 (snout area) -->
        <span class="px c-none"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 7 (eye + cheek) -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-black"></span><span class="px c-white"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 8 (body) -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 9 (belly) -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 10 (taper) -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 11 (tail start) -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 12 (tail tip) -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-pink"></span><span class="px c-darkpink"></span><span class="px c-pink"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 13 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 14 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 15 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        <!-- row 16 -->
        <span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span><span class="px c-none"></span>
        </div>
        <!-- Overlay grid for animated fin and face expressions -->
        <div class="boto-overlay" aria-hidden="true">
          <!-- 16x16 overlay cells: use classes fin, overlay-eye, overlay-mouth where needed -->
          <!-- We'll place a simple fin to the top-right area and overlay eye/mouth pixels -->
          <!-- Row 1 -->
          <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Row 2 -->
          <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Row 3 -->
          <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Row 4 -->
          <span class="o"></span><span class="o"></span><span class="o"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Row 5 -->
          <span class="o"></span><span class="o"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o fin"></span><span class="o fin"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Row 6 -->
          <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o fin"></span><span class="o fin"></span><span class="o fin"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Row 7 -->
          <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o overlay-eye"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Row 8 -->
          <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o overlay-mouth"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
          <!-- Remaining rows blank -->
            <!-- Row 9-16 -->
            <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
            <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
            <!-- Row 11: add three overlay-belly pixels over the body's center (cols 6-8) -->
            <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o overlay-belly"></span><span class="o overlay-belly"></span><span class="o overlay-belly"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
            <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
            <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
            <span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span><span class="o"></span>
        </div>
        <!-- High-resolution SVG detail layer (anchored to pixel grid) -->
        <svg class="detail-svg" viewBox="0 0 16 16" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
          <!-- subtle detailed eyes, nose, mouth and belly highlight sized to the 16x16 grid -->
          <g id="details" fill="none" stroke="none">
            <!-- left eye (around row7,col9 in pixel grid) -->
            <circle class="eye eye-left" cx="9" cy="7" r="0.6" fill="#000" />
            <!-- right eye (optional subtle highlight) -->
            <circle class="eye eye-right" cx="10.2" cy="7" r="0.35" fill="#fff" opacity="0.9" />
            <!-- small nose / rostrum detail -->
            <path class="nose" d="M10.6 8.2 L11.4 8.0 L10.8 7.6 Z" fill="#cc4a88" opacity="0.95" />
            <!-- mouth: base dot that can appear/disappear -->
            <path class="mouth" d="M7.8 7.8 q0.4 0.6 1.2 0.0" stroke="#ff66b2" stroke-width="0.25" stroke-linecap="round" fill="none" opacity="0" />
            <!-- eyebrow (left) - default subtle, will raise on error -->
            <path class="eyebrow" d="M8.2 6.1 q0.6 -0.4 1.2 0" stroke="#000" stroke-width="0.14" stroke-linecap="round" fill="none" opacity="0.9" />
            <!-- belly highlight (three small ellipses centered lower) -->
            <ellipse class="belly" cx="7" cy="11" rx="1.4" ry="0.6" fill="#ffd6e6" opacity="0.0" />
            <!-- subtle diamond sparkle (4-point) to the right of the boto (hidden by default) -->
            <g class="sparkle" transform="translate(13,7) scale(0.6)" opacity="0">
              <!-- diamond: top, right, bottom, left -->
              <polygon points="0,-2 1.5,0 0,2 -1.5,0" fill="#fff9d9" stroke="#fff5b2" stroke-width="0.08"/>
            </g>
            <!-- question mark group (hidden by default) placed near the right edge but within the sprite bounds -->
            <g class="qmark" transform="translate(12.6,5) scale(0.45)" opacity="0">
              <path d="M0,0 q0.7,0 0.7,0.7 q0,0.5 -0.7,0.7" stroke="#ffffff" stroke-width="0.14" fill="none" stroke-linecap="round" />
              <circle cx="0.7" cy="1.9" r="0.12" fill="#ffffff" />
            </g>
            <!-- removed larger loader; small loader-badge used instead -->
          </g>
          <!-- small loader badge placed inside the detail SVG so it aligns to the pixel grid -->
          <g class="loader-badge" transform="translate(11.2,3.2) scale(0.32)" opacity="0">
            <g class="badge-ring" transform="translate(0,0)">
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(0)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(30)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(60)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(90)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(120)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(150)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(180)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(210)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(240)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(270)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(300)" />
              <rect x="-1" y="-6" width="2" height="4" rx="1" fill="#fff" transform="rotate(330)" />
            </g>
          </g>

          </svg>

          <div class="boto-actions" aria-hidden="true">
          <button class="tap">Tap</button>
          <button class="wave">Wave</button>
          <button class="success">Success</button>
          <button class="error">Error</button>
          <button class="loading">Loading</button>
          <button class="idle">Idle</button>
        </div>
</div>
</div>
</body>
<script>
  // Trigger the wave sequence: add .wave-active to boto-wrap for animation duration
  (function(){
    const btn = document.querySelector('.boto-actions button.wave');
    const wrap = document.querySelector('.boto-wrap');
    if(!btn || !wrap) return;
    btn.addEventListener('click', ()=>{
      // restart animation if already active
      // stop loading if running
      wrap.classList.remove('loading-active');
      // restart animation if already active
      wrap.classList.remove('wave-active');
      // force reflow
      void wrap.offsetWidth;
      wrap.classList.add('wave-active');
      // remove after animation duration (match CSS 2200ms)
      setTimeout(()=> wrap.classList.remove('wave-active'), 2300)
    });
  })();

  // Trigger the tap (laugh) sequence: add .tap-active to boto-wrap for animation duration
  (function(){
    const btn = document.querySelector('.boto-actions button.tap');
    const wrap = document.querySelector('.boto-wrap');
    if(!btn || !wrap) return;
    btn.addEventListener('click', ()=>{
      // stop loading if running
      wrap.classList.remove('loading-active');
      wrap.classList.remove('tap-active');
      void wrap.offsetWidth; // force reflow to restart
      wrap.classList.add('tap-active');
      // remove after CSS animation (700ms)
      setTimeout(()=> wrap.classList.remove('tap-active'), 800);
    });
  })();

  // Trigger the success sequence: close eyes, smile and show sparkle
  (function(){
    const btn = document.querySelector('.boto-actions button.success');
    const wrap = document.querySelector('.boto-wrap');
    if(!btn || !wrap) return;
    btn.addEventListener('click', ()=>{
      // stop loading if running
      wrap.classList.remove('loading-active');
      wrap.classList.remove('success-active');
      void wrap.offsetWidth;
      wrap.classList.add('success-active');
      // remove after sparkle animation (match CSS 900ms)
      setTimeout(()=> wrap.classList.remove('success-active'), 950);
    });
  })();

  // Trigger the error sequence: raise eyebrow and show question mark
  (function(){
    const btn = document.querySelector('.boto-actions button.error');
    const wrap = document.querySelector('.boto-wrap');
    if(!btn || !wrap) return;
    btn.addEventListener('click', ()=>{
      // stop idle if running
      wrap.classList.remove('idle-active');
      // stop loading if running
      wrap.classList.remove('loading-active');
      wrap.classList.remove('error-active');
      void wrap.offsetWidth;
      wrap.classList.add('error-active');
      // remove after animation (700ms)
      setTimeout(()=> wrap.classList.remove('error-active'), 800);
    });
  })();

  // Trigger loading: toggles a persistent loading spinner until Idle is pressed
  (function(){
    const btn = document.querySelector('.boto-actions button.loading');
    const idle = document.querySelector('.boto-actions button.idle');
    const wrap = document.querySelector('.boto-wrap');
    if(!btn || !idle || !wrap) return;
    // auto-stop loading after a timeout; clicking Loading restarts the timer
    let loadingTimer = null;
    function stopLoading(){
      wrap.classList.remove('loading-active');
      if(loadingTimer){ clearTimeout(loadingTimer); loadingTimer = null; }
    }

    btn.addEventListener('click', ()=>{
      // starting loading should stop idle
      wrap.classList.remove('idle-active');
      wrap.classList.add('loading-active');
      // reset timer
      if(loadingTimer) clearTimeout(loadingTimer);
  loadingTimer = setTimeout(()=> stopLoading(), 2000);
    });
    idle.addEventListener('click', ()=>{
      // toggle idle: if loading was active, stop it; else start idle
      if(wrap.classList.contains('idle-active')){
        wrap.classList.remove('idle-active');
      } else {
        // clear other one-off states and loading
        stopLoading();
        wrap.classList.remove('tap-active');
        wrap.classList.remove('wave-active');
        wrap.classList.remove('success-active');
        wrap.classList.remove('error-active');
        wrap.classList.add('idle-active');
      }
    });
  })();
  
  // Ensure other action buttons also clear idle when they start (for wave/tap/success handlers above)
  ;(function(){
    const wrap = document.querySelector('.boto-wrap');
    if(!wrap) return;
    const otherBtns = document.querySelectorAll('.boto-actions button:not(.idle)');
    otherBtns.forEach(b=> b.addEventListener('click', ()=> wrap.classList.remove('idle-active')));
  })();
</script>
<script>
  // Hires expansion: duplicate each 16x16 pixel into a 2x2 block to create a 32x32 grid
  (function(){
    const wrap = document.querySelector('.boto-wrap');
    if(!wrap || !wrap.classList.contains('boto-hires')) return;

    function expandGrid(containerSelector, cols){
      const container = document.querySelector(containerSelector);
      if(!container) return;
      const cells = Array.from(container.querySelectorAll(':scope > *'));
      if(cells.length !== cols*cols) return; // expect 16x16
      const originalCols = cols;
      const newCols = cols * 2;
      const fragments = [];

      for(let r=0;r<originalCols;r++){
        // build doubled row (each cell becomes two horizontally)
        const row = [];
        for(let c=0;c<originalCols;c++){
          const idx = r*originalCols + c;
          const cls = cells[idx].className; // keep classes like "px c-pink"
          // two horizontal copies
          row.push(`<span class=\"${cls}\"></span>`);
          row.push(`<span class=\"${cls}\"></span>`);
        }
        // push this doubled row twice (vertical duplication)
        fragments.push(row.join(''));
        fragments.push(row.join(''));
      }

      container.innerHTML = fragments.join('');
    }

    // expand both pixel and overlay grids (they are 16x16)
    expandGrid('.boto-pixels', 16);
    expandGrid('.boto-overlay', 16);

    // Scale the SVG detail layer so it matches the doubled grid
    const svg = document.querySelector('.detail-svg');
    if(svg) {
      svg.style.transform = 'scale(2)';
      svg.style.transformOrigin = '0 0';
      // nudge SVG a bit so it aligns with the expanded grid
      svg.style.left = '20px';
      svg.style.top = '20px';
    }
  })();
</script>
</html>
