/* Configs do sprite */
:root {
  --tile: 64px;               /* tamanho do frame original */
  --frames: 4;                /* frames do estado atual (JS atualiza) */
  --fps: 12;                  /* taxa base */
  --row: 0;                   /* linha atual no spritesheet */
  --sheet: url('../sprites/boto.png'); /* caminho relativo ao CSS */
}

/* Elemento do sprite */
.pet {
  width: var(--tile);
  height: var(--tile);
  image-rendering: pixelated;
  background-image: var(--sheet);
  background-repeat: no-repeat;
  background-size: auto var(--tile); /* altura da imagem = 1 tile */
  background-position: 0 calc(var(--row) * (var(--tile) * -1));
  filter: drop-shadow(0 2px 0 #0008) drop-shadow(0 4px 12px #0006) saturate(1.5) brightness(1.1) hue-rotate(-10deg);
  transition: transform .2s ease;
}

/* Animação por steps(frames) no eixo X */
@keyframes run {
  from { background-position-x: 0; }
  to   { background-position-x: calc((var(--frames) - 1) * var(--tile) * -1); }
}
.run {
  animation-name: run;
  animation-timing-function: steps(var(--frames));
  animation-fill-mode: forwards;
}

/* Acessibilidade */
@media (prefers-reduced-motion: reduce) { .run { animation: none !important; } }

/* Modo DEV: se /public/sprites/boto.png não existir, mostramos um placeholder */

.pet.dev {
  background: none;
  position: relative;
  border: 1px dashed #fff3;
  border-radius: 8px;
  overflow: visible;
}

.pet.dev .boto {
  position: absolute;
  left: 0;
  top: 0;
  width: 64px;
  height: 64px;
  margin: 0;
  z-index: 1;
}
.pet.dev .boto-body {
  position: absolute;
  left: 10px;
  top: 25px;
  width: 34px;
  height: 18px;
  background: #d1e3f7;
  border-radius: 50% 60% 60% 50% / 60% 70% 60% 60%;
  z-index: 2;
}
.pet.dev .boto-head {
  position: absolute;
  left: 32px;
  top: 22px;
  width: 16px;
  height: 16px;
  background: #d1e3f7;
  border-radius: 60% 70% 70% 60% / 70% 80% 80% 70%;
  z-index: 3;
}
.pet.dev .boto-snout {
  position: absolute;
  left: 44px;
  top: 28px;
  width: 10px;
  height: 6px;
  background: #d1e3f7;
  border-radius: 70% 100% 100% 70% / 80% 100% 100% 80%;
  z-index: 4;
}
.pet.dev .boto-dorsal {
  position: absolute;
  left: 18px;
  top: 14px;
  width: 10px;
  height: 10px;
  background: #b0c4de;
  border-radius: 100% 0 100% 100%;
  transform: rotate(-30deg);
  z-index: 1;
}
.pet.dev .boto-flipper {
  position: absolute;
  left: 22px;
  top: 36px;
  width: 12px;
  height: 7px;
  background: #b0c4de;
  border-radius: 100% 100% 100% 100% / 100% 100% 100% 100%;
  transform: rotate(30deg);
  z-index: 1;
}
.pet.dev .boto-tail {
  position: absolute;
  left: 0px;
  top: 32px;
  width: 12px;
  height: 10px;
  background: #b0c4de;
  border-radius: 60% 100% 100% 60% / 100% 100% 100% 100%;
  transform: rotate(-30deg);
  z-index: 0;
}
.pet.dev .boto-eye {
  position: absolute;
  left: 42px;
  top: 30px;
  width: 2.5px;
  height: 2.5px;
  background: #333;
  border-radius: 50%;
  z-index: 5;
}

/* Small layout helpers added during validation */
.boto-wrap { display:block; margin: 48px auto; }
.detail-svg { transform: translate(2px, 2px); }
